import { options as n$1, createElement as v$1, Fragment as p$1 } from './preact.js';

var n=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function a(e){"string"!=typeof e&&(e=String(e));for(var t="",r=0;r<e.length;r++){var n=e[r];switch(n){case"<":t+="&lt;";break;case">":t+="&gt;";break;case'"':t+="&quot;";break;case"&":t+="&amp;";break;default:t+=n;}}return t}var o=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"\t"))},i=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},l={};function s(e){var t="";for(var r in e){var a=e[r];null!=a&&(t&&(t+=" "),t+="-"==r[0]?r:l[r]||(l[r]=r.replace(/([A-Z])/g,"-$1").toLowerCase()),t+=": ",t+=a,"number"==typeof a&&!1===n.test(r)&&(t+="px"),t+=";");}return t||void 0}function f(e,t){for(var r in t)e[r]=t[r];return e}function c(e,t){return Array.isArray(t)?t.reduce(c,e):null!=t&&!1!==t&&e.push(t),e}var u={shallow:!0},p=[],_=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,v=function(){};h.render=h;var d=function(e,t){return h(e,t,u)},g=[];function h(n,l,u){var d=function n(l,u,d,g,h,m){if(null==l||"boolean"==typeof l)return "";Array.isArray(l)&&(l=v$1(p$1,null,l));var x=l.type,y=l.props,b=!1;u=u||{};d=d||{};var S=d.pretty,k=S&&"string"==typeof S?S:"\t";if("object"!=typeof l&&!x)return a(l);if("function"==typeof x){if(b=!0,!d.shallow||!g&&!1!==d.renderRootComponent){if(x===p$1){var w="",O=[];c(O,l.props.children);for(var C=0;C<O.length;C++)w+=(C>0&&S?"\n":"")+n(O[C],u,d,!1!==d.shallowHighOrder,h,m);return w}var A,H=l.__c={__v:l,context:u,props:l.props,setState:v,forceUpdate:v,__h:[]};if(n$1.__b&&n$1.__b(l),n$1.__r&&n$1.__r(l),x.prototype&&"function"==typeof x.prototype.render){var j=x.contextType,F=j&&u[j.__c],M=null!=j?F?F.props.value:j.__:u;(H=l.__c=new x(y,M)).__v=l,H._dirty=H.__d=!0,H.props=y,null==H.state&&(H.state={}),null==H._nextState&&null==H.__s&&(H._nextState=H.__s=H.state),H.context=M,x.getDerivedStateFromProps?H.state=f(f({},H.state),x.getDerivedStateFromProps(H.props,H.state)):H.componentWillMount&&(H.componentWillMount(),H.state=H._nextState!==H.state?H._nextState:H.__s!==H.state?H.__s:H.state),A=H.render(H.props,H.state,H.context);}else {var T=x.contextType,$=T&&u[T.__c],L=null!=T?$?$.props.value:T.__:u;A=x.call(l.__c,y,L);}return H.getChildContext&&(u=f(f({},u),H.getChildContext())),n$1.diffed&&n$1.diffed(l),n(A,u,d,!1!==d.shallowHighOrder,h,m)}x=(E=x).displayName||E!==Function&&E.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=p.length;n--;)if(p[n]===e){r=n;break}r<0&&(r=p.push(e)-1),t="UnnamedComponent"+r;}return t}(E);}var E;var D,N,P="";if(y){var R=Object.keys(y);d&&!0===d.sortAttributes&&R.sort();for(var U=0;U<R.length;U++){var W=R[U],q=y[W];if("children"!==W){if(!W.match(/[\s\n\\/='"\0<>]/)&&(d&&d.allAttributes||"key"!==W&&"ref"!==W&&"__self"!==W&&"__source"!==W&&"defaultValue"!==W)){if("className"===W){if(y.class)continue;W="class";}else h&&W.match(/^xlink:?./)&&(W=W.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===W){if(y.for)continue;W="for";}"style"===W&&q&&"object"==typeof q&&(q=s(q)),"a"===W[0]&&"r"===W[1]&&"boolean"==typeof q&&(q=String(q));var z=d.attributeHook&&d.attributeHook(W,q,u,d,b);if(z||""===z)P+=z;else if("dangerouslySetInnerHTML"===W)N=q&&q.__html;else if("textarea"===x&&"value"===W)D=q;else if((q||0===q||""===q)&&"function"!=typeof q){if(!(!0!==q&&""!==q||(q=W,d&&d.xml))){P+=" "+W;continue}if("value"===W){if("select"===x){m=q;continue}"option"===x&&m==q&&(P+=" selected");}P+=" "+W+'="'+a(q)+'"';}}}else D=q;}}if(S){var I=P.replace(/^\n\s*/," ");I===P||~I.indexOf("\n")?S&&~P.indexOf("\n")&&(P+="\n"):P=I;}P="<"+x+P+">";if(String(x).match(/[\s\n\\/='"\0<>]/))throw new Error(x+" is not a valid HTML tag name in "+P);var V=String(x).match(_)||d.voidElements&&String(x).match(d.voidElements);var Z=[];var B;if(N)S&&i(N)&&(N="\n"+k+o(N,k)),P+=N;else if(null!=D&&c(B=[],D).length){for(var G=S&&~P.indexOf("\n"),J=!1,K=0;K<B.length;K++){var Q=B[K];if(null!=Q&&!1!==Q){var X="svg"===x||"foreignObject"!==x&&h,Y=n(Q,u,d,!0,X,m);if(S&&!G&&i(Y)&&(G=!0),Y)if(S){var ee=Y.length>0&&"<"!=Y[0];J&&ee?Z[Z.length-1]+=Y:Z.push(Y),J=ee;}else Z.push(Y);}}if(S&&G)for(var te=Z.length;te--;)Z[te]="\n"+k+o(Z[te],k);}if(Z.length||N)P+=Z.join("");else if(d&&d.xml)return P.substring(0,P.length-1)+" />";!V||B||N?(S&&~P.indexOf("\n")&&(P+="\n"),P+="</"+x+">"):P=P.replace(/>$/," />");return P}(n,l,u);return n$1.__c&&n$1.__c(n,g),d}h.shallowRender=d;

export default h;
export { h as render, h as renderToStaticMarkup, h as renderToString, d as shallowRender };
//# sourceMappingURL=preact-render-to-string.js.map
